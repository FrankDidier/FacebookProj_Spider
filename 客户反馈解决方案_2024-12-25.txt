================================================================================
            客户反馈问题解决方案 - 2024年12月25日
================================================================================

🚨 重要：请确保下载最新版本！
────────────────────────────────────────────────────────────────────────────────
GitHub Actions: https://github.com/FrankDidier/FacebookProj_Spider/actions
下载最新的 "FacebookMarketingTool-Windows-Package" 压缩包

================================================================================
                    问题逐一解答
================================================================================

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 1: "每个浏览器的代理网络怎么设置？"                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│ 回答: 在 BitBrowser 客户端中配置每个浏览器的代理                              │
│                                                                             │
│ 步骤:                                                                       │
│   1. 打开 BitBrowser 客户端                                                  │
│   2. 点击要配置的浏览器 → 编辑                                                │
│   3. 找到 "代理设置" / "Proxy" 部分                                          │
│   4. 选择代理类型 (HTTP/SOCKS5)                                              │
│   5. 输入代理服务器: IP地址、端口、用户名、密码                                │
│   6. 保存                                                                   │
│                                                                             │
│ 这样每个浏览器就有独立的代理IP！                                              │
│                                                                             │
│ ⚠️ 注意: 必须在 BitBrowser 中配置，程序会自动使用 BitBrowser 的代理设置       │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 2: "主控制台功能也还没有完善的吧？"                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│ 回答: 主控制台目前是展示页面，核心功能已完善                                   │
│                                                                             │
│ 目前可用的功能:                                                              │
│   ✅ 采集群组 - 完全可用                                                     │
│   ✅ 采集成员 - 完全可用                                                     │
│   ✅ 私信成员 - 完全可用                                                     │
│                                                                             │
│ 其他功能 (自动点赞/评论/关注等) 需要进一步开发配置                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 3: "采集群组还是多线程启动不了，采集器4个还是启动一个浏览器"               │
├─────────────────────────────────────────────────────────────────────────────┤
│ 回答: 这是预期行为！群组采集的线程数 = 关键词数量                               │
│                                                                             │
│ 逻辑说明:                                                                   │
│   • 1个关键词 → 1个浏览器                                                    │
│   • 4个关键词 → 4个浏览器                                                    │
│   • 10个关键词 → 10个浏览器 (最多不超过BitBrowser配置数)                      │
│                                                                             │
│ 解决方法:                                                                   │
│   如果要同时开4个浏览器采集群组，请输入4个不同的关键词！                        │
│                                                                             │
│ 您的日志显示:                                                                │
│   "准备开启1个ParserControl线程" ← 因为只输入了1个关键词                      │
│                                                                             │
│ ⚠️ 成员采集和私信采集不同，它们使用UI中设置的线程数                            │
│    您的日志显示成员采集: "准备开启4个ParserControl线程" ← 正常工作！           │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 4: "采集群组出来文本还是两个，只需要保留一个 links文本"                    │
├─────────────────────────────────────────────────────────────────────────────┤
│ 状态: ✅ 已修复                                                              │
│                                                                             │
│ 修复内容:                                                                   │
│   • 添加 groups_save_links_only = true 配置                                 │
│   • 默认只保存 _links.txt 文件                                               │
│                                                                             │
│ 配置位置: config.ini [groups] 部分                                           │
│   save_links_only = true                                                    │
│                                                                             │
│ ⚠️ 请下载最新版本才能生效！                                                   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 5: "采集成员选择浏览，不行，卡死"                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│ 状态: 已优化                                                                 │
│                                                                             │
│ 优化内容:                                                                   │
│   • 添加 QApplication.processEvents() 防止UI卡死                            │
│   • 大文件警告 (>10MB)                                                       │
│                                                                             │
│ 建议:                                                                       │
│   1. 选择的文件不要太大 (<10MB)                                               │
│   2. 如果仍卡死，使用"使用默认采集结果"                                        │
│   3. 把文件放到 ./fb/group/ 目录下                                           │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 6: "4个浏览器打开 分辨率没有自动排列大小位置"                              │
├─────────────────────────────────────────────────────────────────────────────┤
│ 状态: ✅ 已修复                                                              │
│                                                                             │
│ 修复内容:                                                                   │
│   • 修复 fb_members.py 中的 typo (ads_id → ads_ids)                         │
│   • 自动排列逻辑已实现:                                                       │
│     - 1个浏览器: 全屏                                                        │
│     - 4个浏览器: 2x2 网格                                                    │
│     - 8个浏览器: 4x2 网格                                                    │
│     - 50个浏览器: 自动计算最佳网格                                            │
│                                                                             │
│ 配置屏幕分辨率: config.ini [main] 部分                                        │
│   screen_width = 1920                                                       │
│   screen_height = 1080                                                      │
│                                                                             │
│ ⚠️ 请下载最新版本才能生效！                                                   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 7: "采集成员 文件删除格式3-2-1-0 还是不行"                                │
├─────────────────────────────────────────────────────────────────────────────┤
│ 状态: ✅ 已修复                                                              │
│                                                                             │
│ 测试结果:                                                                   │
│   ✅ 5个URL → 删除1个 → 剩4个                                                │
│   ✅ 4个URL → 删除1个 → 剩3个                                                │
│   ✅ JSON格式文件删除正常                                                     │
│   ✅ _links.txt格式文件删除正常                                               │
│                                                                             │
│ 修复内容:                                                                   │
│   • 线程安全的临时文件命名                                                    │
│   • 重试机制 (最多3次)                                                        │
│   • 原子操作替换文件                                                         │
│                                                                             │
│ ⚠️ 请下载最新版本才能生效！                                                   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 8: "私信成员 选择浏览不行报错 (can't set attribute)"                      │
├─────────────────────────────────────────────────────────────────────────────┤
│ 状态: ✅ 已修复                                                              │
│                                                                             │
│ 原因: config.members_selected_file 只有 getter，没有 setter                  │
│                                                                             │
│ 修复内容:                                                                   │
│   添加 @members_selected_file.setter 方法                                    │
│                                                                             │
│ ⚠️ 请下载最新版本才能生效！                                                   │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ 问题 9: "私信成员 发送私信也行 发送图片不行"                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ 状态: 已检查                                                                 │
│                                                                             │
│ 图片上传需要:                                                                │
│   1. 图片文件必须存在                                                        │
│   2. 使用绝对路径 (如 D:\temp\1.jpg)                                         │
│   3. Facebook Messenger 对话框必须已打开                                     │
│                                                                             │
│ 新增功能:                                                                   │
│   • 添加 "🖼️ 浏览图片" 按钮，可以直接选择图片文件                              │
│   • 自动转换为绝对路径                                                        │
│                                                                             │
│ 如果仍不工作，请检查日志中是否有:                                             │
│   "图片文件不存在: ..."                                                      │
│   "未找到图片上传按钮"                                                        │
└─────────────────────────────────────────────────────────────────────────────┘

================================================================================
                    总结
================================================================================

已修复的问题:
  ✅ 群组只保存links文件
  ✅ 浏览器窗口自动排列
  ✅ 文件删除逻辑
  ✅ 浏览成员文件报错
  ✅ 停止消息太多

需要理解的行为:
  ℹ️ 群组采集线程数 = 关键词数量 (这是设计如此)
  ℹ️ 成员采集/私信线程数 = UI设置值 (已正常工作)

请下载最新版本测试！
GitHub Actions: https://github.com/FrankDidler/FacebookProj_Spider/actions

如有问题，请提供最新的日志文件 (./logs/ 目录)

================================================================================

